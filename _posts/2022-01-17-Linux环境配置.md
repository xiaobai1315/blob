## linux 环境配置

### Linux安装Jenkins

* 安装JDK Jenkins需要依赖JDK，所以先安装JDK1.8

  `yum install java-1.8.0-openjdk* -y`

  安装目录为:/usr/lib/jvm

* 获取jenkins安装包 

  `https://mirrors.tuna.tsinghua.edu.cn/jenkins/redhat/` 下载Jenkins镜像

  将本地文件传输到Linux /export目录下

  `scp /Users/test/Desktop/jenkins-2.213-1.1.noarch.rpm root@xx.xx.xx.xx:/export`

* 安装jenkins

  `rpm -ivh jenkins-2.190.3-1.1.noarch.rpm`

* 修改Jenkins配置
  ` vi /etc/syscofig/jenkins`

```
JENKINS_USER="root"
JENKINS_PORT="8888"
```

* 启动Jenkins
  ` systemctl start jenkins`
* 打开浏览器访问 http://192.168.66.101:8888，跳过插件安装
* 



### 卸载Jenkins

```
rpm卸载
rpm -e jenkins

检查是否卸载成功
rpm -ql jenkins

彻底删除残留文件：
find / -iname jenkins | xargs -n 1000 rm -rf
```



## jenkins 添加Git仓库

* Jenkins-系统管理-凭证配置，添加凭证

  Provider:Jenkins凭据提供者

  Type: SSH Username with private key

  ![image-20220117232205750](https://github.com/xiaobai1315/xiaobai1315.github.io/blob/main/images/screenshoot/jenkins/qjpz.png)

* Jenkins-系统管理-Manage Credentials

  ![image-20220117232205750](https://github.com/xiaobai1315/xiaobai1315.github.io/blob/main/images/screenshoot/jenkins/pzgl.png)

* Jenkins新建项目，源码管理，

  ![image-20220117232205750](https://github.com/xiaobai1315/xiaobai1315.github.io/blob/main/images/screenshoot/jenkins/ymgl.png)

* 构建项目，构建成功后在 /var/jenkins_home/workspace/test1/src 目录下会看到下载的源码



### linux 配置maven

### 安装

* 下载安装包 `https://maven.apache.org/download.cgi`

* 上传到Linux服务器

  `scp /Users/test/Desktop/maven.tar.gz root@xx.xx.xx.xx:/`

* tar -xzf apache-maven-3.6.2-bin.tar.gz 解压 

* mkdir -p /opt/maven 创建目录

* mv apache-maven-3.6.2/* /opt/maven 移动文件

### 配置环境变量

* vi /etc/profile

```
export JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk
export MAVEN_HOME=/opt/maven
export PATH=$PATH:$JAVA_HOME/bin:$MAVEN_HOME/bin
```

* source /etc/profile 配置生效

* mvn -v 查找Maven版本

